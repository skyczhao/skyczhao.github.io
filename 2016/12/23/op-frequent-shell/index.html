<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 运维常用脚本 · 十三羽</title><meta name="description" content="运维常用脚本 - Tobin"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-110577953-1"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-110577953-1');</script></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/CV" target="_self" class="nav-list-link">CV</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">运维常用脚本</h1><div class="post-info">Dec 23, 2016</div><div class="post-content"><p>命令就在那，看自己组合使用。所以简单有简单的用法，复杂有复杂的用法。</p>
<h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2><blockquote>
<p>如果非要选出个神器我觉得就它了吧</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 分割输出</span><br><span class="line">jps -m | grep Scheduler | awk &apos;&#123;print $1&#125;&apos;</span><br><span class="line"></span><br><span class="line"># 分割csv</span><br><span class="line">## 条件判断</span><br><span class="line">cat field.txt | awk &apos;&#123;print &quot;IF(ti.`&quot;$1&quot;` IS NULL, t.`&quot;$1&quot;`, ti.`&quot;$1&quot;`) AS `&quot;$1&quot;`,&quot;&#125;&apos; </span><br><span class="line">## 指定分隔符</span><br><span class="line">head t_weixin_account.csv | awk -F&apos;,&apos; &apos;&#123;print $5&quot;|&quot;$6&quot;|&quot;$8&quot;|&quot;$10&#125;&apos;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="xargs"><a href="#xargs" class="headerlink" title="xargs"></a>xargs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name *kafka*.jar | xargs -I &#123;&#125; ls -l &#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 文件内容搜索</span><br><span class="line">grep -rni join .</span><br></pre></td></tr></table></figure>
<h2 id="iconv"><a href="#iconv" class="headerlink" title="iconv"></a>iconv</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat Workbook1.csv | iconv -f gbk -t utf-8</span><br></pre></td></tr></table></figure>
<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 一般用法</span><br><span class="line">for i in &#123;1..5&#125;</span><br><span class="line">do</span><br><span class="line">   echo &quot;Welcome $i times&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"># 指定间隔</span><br><span class="line">for i in &#123;0..10..2&#125;</span><br><span class="line">do </span><br><span class="line">     echo &quot;Welcome $i times&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"># 结合seq</span><br><span class="line">for i in $(seq 1 2 20)</span><br><span class="line">do</span><br><span class="line">   echo &quot;Welcome $i times&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p><strong>本文作者</strong>：Tobin<br><strong>本文地址</strong>： <a href="http://www.thirteenyu.com/2016/12/23/op-frequent-shell/">http://www.thirteenyu.com/2016/12/23/op-frequent-shell/</a> <br><strong>版权声明</strong>：本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</p>
</div></article></div></section><footer><div class="paginator"><a href="/2017/03/24/conf-debian-with-win10/" class="prev">PREV</a><a href="/2016/12/23/list-phone-apps/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'thirteenyu';
var disqus_identifier = '2016/12/23/op-frequent-shell/';
var disqus_title = '运维常用脚本';
var disqus_url = 'http://www.thirteenyu.com/2016/12/23/op-frequent-shell/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//thirteenyu.disqus.com/count.js" async></script><div class="copyright"><p>Hosted by <a href="https://pages.github.com">Github Pages</a> / <a href="https://pages.coding.me">Coding Pages</a></p><p>© 2010 - 2020 <a href="http://www.thirteenyu.com">Tobin</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>